<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>ZumoE2ETestAppJs</title>


    <!-- ZumoE2ETestAppJs references -->
    <link href="../../TestFramework/css/default.css" rel="stylesheet" />
    <script src="lib/MobileServices.Web-1.0.3.js"></script>
    
    <!-- Test framework scripts -->
    <script src="js/platformSpecificFunctions.js"></script>
    <script src="../../TestFramework/js/testFramework.js"></script>
    <script src="../../TestFramework/js/tests/roundTripTests.js" type="text/javascript"></script>
    <script src="../../TestFramework/js/tests/queryTestData.js" type="text/javascript"></script>
    <script src="../../TestFramework/js/tests/queryTests.js" type="text/javascript"></script>
    <script src="../../TestFramework/js/tests/updateDeleteTests.js"></script>
    <script src="../../TestFramework/js/tests/loginTests.js" type="text/javascript"></script>
    <script src="../../TestFramework/js/tests/miscTests.js" type="text/javascript"></script>
    <script src="../../TestFramework/js/tests/apiTests.js" type="text/javascript"></script>
    <script src="../../TestFramework/js/tests/allTests.js" type="text/javascript"></script>


</head>
<body>
    <table id='mainTable'>
        <tr style="height: 100px;">
            <th colspan='2' class='borderedCell mainTitle'>Zumo E2E Test App - JS</th>
        </tr>
        <tr style="height: 150px;">
            <td class='borderedCell' colspan='2'>
                <table style='width: 100%'>
                    <tr>
                        <th id='appUrlLabelCell'>App URL:</th>
                        <th id='appUrlTextCell'>
                            <input id='txtAppUrl' /></th>
                        <th id='saveAppInfoCell'>
                            <button id='btnSaveAppInfo'>Save App Info</button></th>
                        <td>
                            <button id="btnRunAllTests">Run All Tests</button>
                        </td>

                    </tr>
                    <tr>
                        <th id='appKeyLabelCell'>App Key:</th>
                        <th id='appKeyTextCell'>
                            <input id='txtAppKey' /></th>
                        <th id='loadAppInfoCell'>
                            <button id='btnLoadAppInfo'>Load App Info</button></th>
                        <td>
                            <button id="btnRunAllUnattendedTests">Run All Tests (unattended)</button>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td id='testGroupsTableCell' class='borderedCell' style="vertical-align: text-top;">
                <table id='tblTestsGroup'>
                    <thead>
                        <tr>
                            <th class='testsTitle'>Test Groups</th>
                        </tr>
                    </thead>
                    <tbody id='tblTestsGroupBody'></tbody>
                </table>
            </td>
            <td id='testsTableCell' class='borderedCell' style="vertical-align: text-top; height: 100%;">
                <table id='tblTests' style="width: 100%; height: 100%;">
                    <thead id="tblTestsHead">
                        <tr>
                            <th id='testsTitle' class='testsTitle'>Tests for group: XXX</th>
                        </tr>
                        <tr>
                            <td>
                                <button id='btnRunTests' style="margin: 10px;">Run Tests</button>
                                <button id='btnResetTests' style="margin: 10px;">Reset</button>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button style="margin: 10px; width: auto;" id='btnSendLogs'>Send logs to:</button>
                                <input type='text' id='txtSendLogsUrl' style='width: 75%; margin: 10px;' />
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="height: 100%;">
                                <div id='table-scroll' style="overflow: auto;">
                                    <table>
                                        <tbody id="tblTestsBody" style="overflow: auto;"></tbody>
                                    </table>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    </table>
    
    <script src="../../TestFramework/js/testFrameworkConnections.js"></script>
    <script type="text/javascript">
        if (window.navigator.userAgent.toLowerCase().indexOf("firefox") > 0) { //Firefox innerText define
            HTMLElement.prototype.__defineGetter__("innerText", function () {
                var anyString = "";
                var childS = this.childNodes;
                for (var i = 0; i < childS.length; i++) {
                    if (childS[i].nodetype == Node.ELEMENT_NODE) {
                        anyString += childS[i].tagname == "br" ? '\n' : childS[i].innertext;
                    }
                    else if (childS[i].nodeType == Node.TEXT_NODE) {
                        anyString += childS[i].nodeValue;
                    }
                }
                return anyString;
            });

            HTMLElement.prototype.__defineSetter__("innerText", function (sText) {
                this.textContent = sText;
            });
        }
    </script>

</body>
</html>
